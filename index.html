<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Adaopte</title>

  <!-- Tous les CSS sont chargés ici -->
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/home.css">
  <link rel="stylesheet" href="./css/adopt.css">

  <style>
    body { font-family: Arial, sans-serif; margin: 0; }
    nav { background: #eee; padding: 10px; }
    nav button { margin-right: 10px; }
    #contenu { padding: 20px; }
  </style>
</head>
<body>
  <nav>
    <button onclick="chargerPage('home/home.html')">Accueil</button>
    <button onclick="chargerPage('home/adopt.html')">Adoption</button>
  </nav>

  <div id="contenu"></div>

  <script>
    // Fonction globale pour charger une page dans le div
    function chargerPage(page) {
      fetch(page)
        .then(response => {
          if (!response.ok) throw new Error(`Erreur ${response.status} en chargeant ${page}`);
          return response.text();
        })
        .then(data => {
          document.getElementById('contenu').innerHTML = data;
          // Après injection, lier tous les liens internes
          attachInternalLinks();
        })
        .catch(err => {
          console.error(err);
          document.getElementById('contenu').innerHTML = `<p style="color:red;">Impossible de charger la page : ${page}</p>`;
        });
    }

    // Fonction pour transformer les liens internes en appels fetch
    function attachInternalLinks() {
      const links = document.querySelectorAll('[data-page]');
      links.forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault();
          const page = link.getAttribute('data-page');
          chargerPage(page);
        });
      });
    }

    // Charger la page d'accueil par défaut
    chargerPage('home/home.html');
  </script>
</body>
</html>
